{"version":3,"sources":["components/AddPlacePopup.js","contexts/CurrentUserContext.js","components/Card.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/Footer.js","components/Header.js","components/Main.js","components/PopupWithForm.js","components/PopupWithImage.js","components/ProtectedRoute.js","utils/api.js","components/Register.js","components/LogIn.js","utils/auth.js","components/InfoToolTip.js","components/App.js","reportWebVitals.js","index.js"],"names":["AddPlacePopup","props","React","useState","placeName","setPlaceName","placeLink","setPlaceLink","PopupWithForm","onSubmit","e","preventDefault","onUpdateCard","name","link","isOpen","onClose","formname","title","id","minLength","maxLength","type","className","placeholder","required","value","onChange","target","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","src","onClick","onCardClick","alt","aria-label","onCardDelete","onCardLike","length","EditProfilePopup","nameInput","setNameInput","descriptionInput","setDescriptionInput","useEffect","about","onUpdateUser","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","avatar","current","ref","Footer","Component","Header","headerlogout","children","Main","onAddPlace","onEditProfile","onEditAvatar","cards","onSignOut","style","display","alignItems","email","textDecoration","color","paddingLeft","to","map","action","noValidate","PopupWithImage","figimage","figcaption","ProtectedRoute","component","loggedIn","checkResponse","res","ok","json","Promise","reject","statusText","baseUrl","Register","onSetEmail","onSetPassword","onRegister","message","password","margin","textAlign","LogIn","onLogin","onInfoToolTip","typeof","InfoToolTip","isItSuccess","App","history","useHistory","setCards","selectedCard","setSelectedCard","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setCurrentUser","setLoggedIn","setEmail","setPassword","setMessage","isInfoToolTipOpen","setIsInfoToolTipOpen","isSuccess","setSuccess","resetForm","handleSetPassword","handleSetEmail","handleInfoToolTip","closeAllPopups","jwt","token","localStorage","getItem","console","log","fetch","method","headers","Accept","Authorization","then","push","catch","err","Provider","path","onDeleteCard","cardId","filteredCards","filter","oldCard","apiCall","api","newCard","newCards","c","removeItem","body","JSON","stringify","auth","status","Error","setItem","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6da45dd9.chunk.js","sourcesContent":["import React from \"react\";\nimport {PopupWithForm} from \"./index\";\n\nexport function AddPlacePopup(props) {\n  const [placeName, setPlaceName] = React.useState(\"\");\n  const [placeLink, setPlaceLink] = React.useState(\"\");\n\n  function handleChangePlaceName(e) {\n    setPlaceName(e.target.value);\n  }\n  function handleChangePlaceLink(e) {\n    setPlaceLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateCard({\n      name: placeName,\n      link: placeLink,\n    });\n    setPlaceLink('');\n    setPlaceName('');\n\n\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name=\"add\"\n      formname=\"formAdd\"\n      title=\"New Place\"\n    >\n      <input\n        id=\"title-input\"\n        minLength=\"2\"\n        maxLength=\"30\"\n        name=\"name\"\n        type=\"text\"\n        className=\"form__input form__input_type_title\"\n        placeholder=\"Title\"\n        required\n        value={placeName}\n\n        onChange={handleChangePlaceName}\n      />\n      <span className=\"form__input-error\" id=\"title-input-error\"></span>\n      \n      <input\n        id=\"url-input\"\n        type=\"url\"\n        name=\"link\"\n        className=\"form__input form__input_type_url\"\n        placeholder=\"Image URL\"\n        required\n        onChange={handleChangePlaceLink}\n        value={placeLink}\n      />\n      <span className=\"form__input-error\" id=\"url-input-error\"></span>\n    </PopupWithForm>\n  );\n}\n\n\n","import React from 'react';\n\nexport  const CurrentUserContext = React.createContext();\n\n\n\n\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n\n\n  const isOwn = props.card.owner === currentUser._id;\n\n\n  const cardDeleteButtonClassName = `card__delete-btn ${\n    isOwn ? \"card_show-delete-btn card_show-delete-btn\" : \"card__delete-btn\"\n  }`;\n\n\n\n  \n  const isLiked = props.card.likes?.some((i) => \n   i._id === currentUser.id\n  );\n\n  const cardLikeButtonClassName = `card__heart ${\n    isLiked ? \" card__heart_active\" : \"card__heart\"\n  }`;\n\n  return (\n    <li className={`card `}>\n      <img\n        src={props.card.link}\n        className='card__pic'\n        onClick={handleClick}\n        alt={props.card.name}\n      />\n      <button\n        aria-label='Delete Button'\n        onClick={handleDeleteClick}\n        className={cardDeleteButtonClassName}\n      ></button>\n      <div className='card__text'>\n        <h2 className='card__title'>{props.card.name}</h2>\n        <div className='card__likes_container'>\n          <button\n            aria-label='Like Button'\n            onClick={handleLikeClick}\n            className={`${cardLikeButtonClassName}`}\n          ></button>\n          <p className='card__likes_count'>{\n           props.card.likes?.length\n          \n          }</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { PopupWithForm } from \"./index\";\n\nexport function EditProfilePopup(props) {\n  const [nameInput, setNameInput] = React.useState(\"\");\n  const [descriptionInput, setDescriptionInput] = React.useState(\"\");\n\n  function handleChangeNameInput(e) {\n    setNameInput(e.target.value);\n  }\n  function handleChangeDescriptionInput(e) {\n    setDescriptionInput(e.target.value);\n  }\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setNameInput(currentUser.name || \"\");\n    setDescriptionInput(currentUser.about || \"\");\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name: nameInput,\n      about: descriptionInput,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      onSubmit={handleSubmit}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      name='edit'\n      formname='formEdit'\n      title='Edit Profile'\n    >\n      <input\n        id='name-input'\n        minLength='2'\n        maxLength='40'\n        name='name'\n        type='text'\n        className='form__input form__input_type_name'\n        placeholder='Name'\n        required\n        value={nameInput}\n        onChange={handleChangeNameInput}\n      />\n      <span className='form__input-error' id='name-input-error'></span>\n      <input\n        id='job-input'\n        minLength='2'\n        maxLength='200'\n        type='text'\n        name='about'\n        className='form__input form__input_type_job'\n        placeholder='About Me'\n        required\n        value={descriptionInput}\n        onChange={handleChangeDescriptionInput}\n      />\n      <span className='form__input-error' id='job-input-error'></span>\n    </PopupWithForm>\n  );\n}\n","import React from \"react\";\nimport { PopupWithForm } from \"./index\";\n\nexport function EditAvatarPopup(props) {\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n\n    avatarRef.current.value = \"\";\n  }\n\n  return (\n    <PopupWithForm\n      name='avatar'\n      formname='formAvatar'\n      title='Avatar'\n      onSubmit={handleSubmit}\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n    >\n      <input\n        id='avatar-input'\n        type='url'\n        name='avatar'\n        className='form__input form__input_type_url form__input_type_avatar'\n        placeholder='Image URL'\n        required\n        ref={avatarRef}\n      />\n\n      <span className='form__input-error' id='avatar-input-error'></span>\n    </PopupWithForm>\n  );\n}\n","\nimport React from 'react';\n\nexport class Footer extends React.Component {\n    render() {\n      return (\n        <footer className=\"footer\">\n        <p className=\"footer__copyright\">© 2020 Around The U.S.</p>\n      </footer>\n      );\n    }\n} \n\n\n\n","\nimport React from 'react';\n\nexport function Header(props) { \n  \n  \n\n  \n  return (\n  <header className=\"header\">\n  <div className={`header__container ${props.headerlogout}`}>\n    <div\n      className=\"header__logo\"\n      aria-label=\"text logo that says Around'\"\n\n      ></div>\n      \n{props.children}\n  </div>\n</header>\n);}\n\n\n","import React from \"react\";\nimport Card from \"../components/Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { Footer } from \"./Footer\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { Header } from \"./Header\";\n\nexport function Main({\n  onCardClick,\n  onAddPlace,\n  onEditProfile,\n  onEditAvatar,\n  cards,\n  onCardLike,\n  onCardDelete,\n  onSignOut,\n}) {\n\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header headerlogout='header__container_log-out'>\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <p>{currentUser.email}</p>\n\n          <Link\n            style={{\n              textDecoration: \"none\",\n              color: \"#A9A9A9\",\n              paddingLeft: 24,\n            }}\n            onClick={onSignOut}\n            to='/login'\n          >\n            Log Out\n          </Link>\n        </div>\n      </Header>\n      <main className='container'>\n        <section className='profile'>\n          <div className='profile__container'>\n            <div className='profile__info'>\n              <div className='profile__avatar-btn' onClick={onEditAvatar}>\n                <img\n                  src={currentUser.avatar}\n                  className='profile__pic'\n                  alt={\"avatar\"}\n                />\n              </div>\n              <div className='profile__text'>\n                <h1 className='profile__name'>{currentUser.name}</h1>\n                <button\n                  type='button'\n                  aria-label='Profile Edit Button'\n                  className='form_button profile__edit-btn'\n                  onClick={onEditProfile}\n                ></button>\n                <p className='profile__job'>{currentUser.about}</p>\n              </div>\n            </div>\n            <button\n              type='button'\n              aria-label='Card Add Button'\n              id='addButton'\n              className='form_button profile__add-btn'\n              onClick={onAddPlace}\n            ></button>\n          </div>\n        </section>\n        <section className='cards'>\n          <ul className='cards__list'>\n            {cards.map((card) => (\n              <Card\n          \n                key={card._id}\n                onCardLike={onCardLike}\n                onCardDelete={onCardDelete}\n                onCardClick={onCardClick}\n                card={card}\n              />\n            ))}\n          </ul>\n        </section>\n      </main>\n    </>\n  );\n}\n","import React from \"react\";\n\nexport function PopupWithForm(props) {\n  return (\n    <div\n      className={`modal modal_type_${props.name} ${\n        props.isOpen ? \"modal_open\" : \"\"\n      }`}\n    >\n      <div className='modal__container'>\n        <form\n          onSubmit={props.onSubmit}\n          action='#'\n          className={`form form_${props.formname}`}\n          name={props.name}\n          noValidate\n        >\n          <h2 className='form__title'>{props.title}</h2>\n          {props.children}\n          <button type='submit' className={`form__button ${props.name}-submit`}>\n            Save\n          </button>\n        </form>\n        <button\n          aria-label='Close Button'\n          type='reset'\n          className={`modal__close-button modal__close-button_${props.name}`}\n          onClick={props.onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport function PopupWithImage(props) {\n  return (\n    <div className={`modal modal_type_pic ${props.isOpen ? \"modal_open\" : \"\"}`}>\n      <div className='modal__container'>\n        <button\n          aria-label='Close Button '\n          type='button'\n          className='modal__close-button modal__close-button_pic'\n          onClick={props.onClose}\n        ></button>\n        <figure className='modal__figure'>\n          <img\n            src={props.figimage}\n            className='modal__img'\n            alt={props.figcaption}\n          />\n          <figcaption className='modal__caption'>{props.figcaption}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nexport const ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to='/register' />\n      }\n    </Route>\n  );\n};\n","\n\n\n\n  function checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      Promise.reject(\"Error!\" + res.statusText);\n    }\n  }\n\n  const   baseUrl =  \"http://localhost:3000\";\n\n  export const getCardList = () => {\n    return fetch(baseUrl + \"/cards\", {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n    }).then((res) => checkResponse(res));\n  }\n\n\n\n\n\n  export const addCard = ({ name, link }) => {\n    return fetch(baseUrl + \"/cards\", {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      method: \"POST\",\n      body: JSON.stringify({  \n        name,\n        link, \n      }),\n    }).then((res) => checkResponse(res));\n  }\n\n  export const removeCard = (cardId) => {\n    return fetch(baseUrl + \"/cards/\" + cardId, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      method: \"DELETE\",\n    }).then((res) => checkResponse(res));\n  }\n\n  export const changeCardLikeStatus = (cardId, isLiked) => {\n    let apiCall;\n\n    if (isLiked) {\n      apiCall = \"PUT\";\n    } else {\n      apiCall = \"DELETE\";\n    }\n\n    return fetch(baseUrl + \"/cards/likes/\" + cardId, {\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      method: apiCall,\n    }).then((res) => checkResponse(res));\n  }\n\n  export const setUserInfo = ({ name, about }) => {\n    \n    return fetch(baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then((res) => checkResponse(res));\n  }\n\n  export const setUserAvatar = ({ avatar })  => {\n    \n    return fetch(baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n       Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n      },\n      body: JSON.stringify({ avatar }),\n    }).then((res) => checkResponse(res));\n  }\n\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Header } from \"./Header\";\n\nexport function Register({\n  onSetEmail,\n  onSetPassword,\n  onRegister,\n  message,\n  email,\n  password,\n}) {\n  return (\n    <>\n      <Header headerlogout='header__container_log-out'>\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Link\n            style={{\n              textDecoration: \"none\",\n              color: \"white\",\n              paddingLeft: 24,\n            }}\n            to='/login'\n          >\n            Log In\n          </Link>\n        </div>\n      </Header>\n      <div className={\"sign-in__container\"}>\n        <div className='modal__container'>\n          \n          <form\n            onSubmit={onRegister}\n            action='#'\n            className={`form form_sign_up }`}\n            name='register'\n            noValidate\n          >\n            <h2 className='form__title form__title_sign_up'>Sign Up</h2>\n            <span style={{color:\"red\"}}>{message}</span>\n            <input\n              id='email-input'\n              minLength='2'\n              maxLength='40'\n              name='email'\n              type='text'\n              className='form__input form__input_sign_up form__input_type_email'\n              placeholder='Email'\n              required\n              value={email}\n              onChange={onSetEmail}\n            />\n\n            <input\n              id='password-input'\n              minLength='2'\n              maxLength='200'\n              name='password'\n              type='password'\n              className='form__input form__input_sign_up form__input_type_password'\n              placeholder='Password'\n              required\n              value={password}\n              onChange={onSetPassword}\n            />\n\n            <button\n              type='submit'\n              className={`form__button form__button_sign_up register-submit `}\n            >\n              Sign up\n            </button>\n\n            <Link\n              style={{\n                textDecoration: \"none\",\n                margin: 20,\n                textAlign: \"center\",\n              }}\n              to='/login'\n              type='submit'\n              className={`form__button form__button_member_log_in form__button_sign_up `}\n            >\n              Already a member? Log in here!\n            </Link>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Header } from \"./Header\";\n\nexport function LogIn({\n  message,\n  email,\n  onSetEmail,\n  password,\n  onSetPassword,\n  onLogin,\n  onInfoToolTip,\n}) {\n  return (\n    <>\n      <Header headerlogout='header__container_log-out'>\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\n          <Link\n            style={{\n              textDecoration: \"none\",\n              color: \"white\",\n              paddingLeft: 24,\n            }}\n            to='/register'\n          >\n            Sign Up\n          </Link>\n        </div>\n      </Header>\n      <div className={\"sign-in__container\"}>\n        <div className='modal__container'>\n          \n          <form\n            onSubmit={onLogin}\n            action='#'\n            className={`form form_sign_up\n           }`}\n            name='login'\n            noValidate\n          >\n            <h2 className='form__title form__title_sign_up'>Log In</h2>\n            {/* <span style={{color:\"red\"}}>{message}</span> */}\n            <input\n              value={email}\n              onChange={onSetEmail}\n              id='email-input'\n              minLength='2'\n              maxLength='200'\n              type='text'\n              name='email'\n              className='form__input form__input_sign_up form__input_type_email'\n              placeholder='Email'\n              required\n            />\n            <input\n              value={password}\n              onChange={onSetPassword}\n              id='password-input'\n              minLength='2'\n              maxLength='200'\n              type='password'\n              name='password'\n              className='form__input form__input_sign_up form__input_type_job'\n              placeholder='Password'\n              required\n              typeof='password'\n            />\n            <button\n              type='submit'\n              className={`form__button form__button_sign_up `}\n            >\n              Log in\n            </button>\n            <Link\n              style={{\n                textDecoration: \"none\",\n                margin: 20,\n                textAlign: \"center\",\n              }}\n              to='/register'\n              \n              type='submit'\n              className={`form__button form__button_member_log_in form__button_sign_up `}\n            >\n              Not a member yet? Sign up here!\n            </Link>\n          </form>\n        </div>\n      </div>\n    </>\n  );\n}\n","// export const baseUrl = 'http://final-countdown.students.nomoreparties.site';\nconst   baseUrl =  \"http://localhost:3000\";\n\nfunction checkResponse(res) {\n  if (res.ok) {\n    return res.json();\n  } else {\n    Promise.reject(\"Error!\" + res.statusText);\n  }\n}\n\nexport const register = (email, password) => {\n  return fetch(baseUrl + '/signup', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n    .then(checkResponse)\n    .then((res) => {\n      return res;\n    });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(baseUrl + '/signin', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ email, password }),\n  })\n  .then(checkResponse)\n    .then((res) => {\n      if (res.token) {\n        localStorage.setItem('token', res.token);\n        return res;\n      }\n    });\n};\n\nexport const getContent = (jwt) => {\n  return fetch(baseUrl + '/users/me', {\n    method: 'GET',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${jwt}`,\n    },\n  })\n  .then(checkResponse)\n    .then((res) => {\n      return res;\n    });\n};\n","import React, { useState, useEffect } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nimport { PopupWithImage } from \"./PopupWithImage\";\n\nexport function InfoToolTip(props) {\n  return (\n    <div\n      className={`modal modal_type_${props.name} ${\n        props.isOpen ? \"modal_open\" : \"\"\n      }`}\n    >\n      <div className='modal__container'>\n        <div className='infotooltip__container'>\n          <div\n            className={\n              props.isItSuccess\n                ? \"info-tool-tip-success\"\n                : \"info-tool-tip-failure\"\n            }\n          ></div>\n          <h1 className='infotooltip__message'>\n            {props.isItSuccess\n              ? \"Success! You have now been registered.\"\n              : \"Oops, something went wrong! Please try again.\"}\n          </h1>\n        </div>\n        <button\n          aria-label='Close Button'\n          type='reset'\n          className={`modal__close-button modal__close-button_${props.name}`}\n          onClick={props.onClose}\n        ></button>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoToolTip;\n","import React, { useState, useEffect } from \"react\";\nimport { Route, Switch, useHistory, Redirect } from \"react-router-dom\";\nimport {\n  AddPlacePopup,\n  ProtectedRoute,\n  EditAvatarPopup,\n  EditProfilePopup,\n  PopupWithForm,\n  PopupWithImage,\n  Main, \n  Footer,\n} from \"./index\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport * as api from \"../utils/api\";\nimport { Register } from \"./Register\";\nimport { LogIn } from \"./LogIn\";\nimport * as auth from \"../utils/auth\";\nimport InfoToolTip from \"./InfoToolTip\";\nfunction App() {\n  const history = useHistory();\n\n  const [cards, setCards] = useState([]);\n  const [selectedCard, setSelectedCard] = useState(false);\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n\n  const [currentUser, setCurrentUser] = useState({});\n\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const [message, setMessage] = useState(\"\");\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [isSuccess, setSuccess] = useState(false);\n\n  function resetForm() {\n    setEmail(\"\");\n    setPassword(\"\");\n    setMessage(\"\");\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    api\n      .setUserInfo({ name, about })\n      .then((res) => setCurrentUser(res))\n      .then(closeAllPopups)\n      .catch((err) => {\n       console.log(err.message);\n      });\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    api\n      .setUserAvatar({ avatar })\n      .then((res) => setCurrentUser(res))\n      .then(closeAllPopups)\n      .catch((err) => {\n        console.log(err.message);\n       });\n  }\n\n  //NOTE card functions\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function handleDeleteCardClick() {\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  function handleCardLike(card) {\n\n    //NOTE here it has to be card._id\n    const isLiked = card.likes?.some((i) => i._id === currentUser.id);\n\n\n\n    api\n      .changeCardLikeStatus(card._id, !isLiked)\n      .then((newCard) => {\n        console.log('newCASFUHIAUFHISAUDHFIASFHUKSDFKSAJDFKASJFHKASJDHFKSDJHFAKSDHJFKASJDHFLKASJFHSAard', newCard);\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err.message);\n       });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const oldCards = [...cards];\n\n        const filteredCards = oldCards.filter(\n          (oldCard) => oldCard._id !== card._id\n        );\n        setCards(filteredCards);\n      })\n      .catch((err) => {\n        console.log(err.message);\n       });\n  }\n\n  function handleUpdateCard(card) {\n    api\n      .addCard(card)\n      .then((newCard) => setCards([newCard, ...cards]))\n      .then(closeAllPopups)\n      .catch((err) => {\n        console.log(err.message);\n       });\n  }\n\n  //NOTE sign up log in functions\n\n  const handleLoginSubmit = (e) => {\n    e.preventDefault();\n\n    if (!email || !password) {\n      setMessage(\"400 - one or more of the fields were not provided\");\n      return;\n    }\n    auth\n      .authorize(email, password)\n      .then((res) => {\n        if (!res) {\n          setSuccess(false);\n          handleInfoToolTip();\n          setMessage(\"401 - the user with the specified email not found\");\n          res\n            .status(401)\n            .json({ message: \"the user with the specified email not found\" });\n          throw new Error(\"email doesn't exist\");\n        }\n        if (res) {\n          setLoggedIn(true);\n        }\n      })\n      .then(resetForm)\n      .then(() => {\n        history.push(\"/login\");\n      })\n      .catch((err) => {\n        console.log(err.message);\n       });\n  };\n\n  const handleRegisterSubmit = (e) => {\n    e.preventDefault();\n\n    if (!password || !email) {\n      return;\n    }\n    auth\n      .register(email, password)\n      .then((res) => {\n        if (!res || res.status === 400) {\n          setMessage(\"400 - one of the fields was filled in incorrectly\");\n          setSuccess(false);\n          handleInfoToolTip();\n          res\n            .status(400)\n            .json({ message: \"one or more of the fields were not provided\" });\n          throw new Error(\"Error!!\");\n        }\n        setSuccess(true);\n\n        handleInfoToolTip();\n        return res;\n      })\n      .then(resetForm)\n      .then(history.push(\"/login\"))\n      .catch((err) => {\n        console.log(err.message);\n      });\n  };\n\n  function handleSetPassword(e) {\n    setPassword(e.target.value);\n  }\n  function handleSetEmail(e) {\n    setEmail(e.target.value);\n  }\n\n  function handleInfoToolTip() {\n    setIsInfoToolTipOpen(true);\n  }\n\n  function handleLogOut() {\n    localStorage.removeItem(\"token\");\n    history.push(\"/login\");\n    setLoggedIn(false);\n  }\n\n  function closeAllPopups() {\n    setIsAddPlacePopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard(false);\n    setIsImagePopupOpen(false);\n    setIsInfoToolTipOpen(false);\n  }\n\n  useEffect(() => {\n\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      console.log('token', token);\n      console.log('has token', token);\n      auth\n        .getContent(token)\n        .then((res) => {\n          if (!res) {\n            setMessage(\"400 - one or more of the fields were not provided\");\n            return;\n          }\n          return setCurrentUser(res)\n        })\n        .then(setLoggedIn(true))\n        .then(() => {\n          history.push(\"/main\");\n        })\n        .catch((err) => {\n          console.log(err.message);\n         });\n\n         api\n         .getCardList()\n         .then((res) => {\n           setCards(res);\n         })\n         .catch((err) => {\n           console.log(err.message);\n          });\n\n    }\n  }, [history, loggedIn]);\n\n\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      history.push(\"/login\");\n    }\n  }, [history]);\n\n  return (\n    <div className='page'>\n      <CurrentUserContext.Provider value={currentUser}>\n        <Switch>\n          <ProtectedRoute\n            path='/main'\n            loggedIn={loggedIn}\n            cards={cards}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onDeleteCard={handleDeleteCardClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleCardDelete}\n            onCardLike={handleCardLike}\n            onSignOut={handleLogOut}\n          ></ProtectedRoute>\n          <Route path='/register'>\n            <Register\n            message={message}\n              onSetEmail={handleSetEmail}\n              onSetPassword={handleSetPassword}\n              onRegister={handleRegisterSubmit}\n            />\n          </Route>\n          <Route path='/login'>\n            <LogIn\n              onSetEmail={handleSetEmail}\n              message={message}\n              onSetPassword={handleSetPassword}\n              onLogin={handleLoginSubmit}\n              onInfoToolTip={handleInfoToolTip}\n            />\n          </Route>\n          <Route exact path='/'>\n            {loggedIn ? <Redirect to='/main' /> : <Redirect to='/login' />}\n          </Route>\n        </Switch>\n        <Footer />\n\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n        />\n\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateCard={handleUpdateCard}\n        />\n        <PopupWithForm\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          name='delete'\n          title='Are you sure?'\n        />\n        <PopupWithImage\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n          figimage={selectedCard.link}\n          figcaption={selectedCard.name}\n        />\n        <InfoToolTip\n          isOpen={isInfoToolTipOpen}\n          isItSuccess={isSuccess}\n          onClose={closeAllPopups}\n        />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n  <BrowserRouter>\n      <App/>\n  </BrowserRouter>\n</React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}